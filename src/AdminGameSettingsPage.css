/* =========================
   AdminGameSettingsPage.css
   (Based on your code + Updated Step 2 Design)
   ========================= */

/* ===== Page ===== */
.ags-page {
  max-width: 1110px;
  width: 100%;
  margin: 0 auto; /* จัดกลาง */
}

/* ===== Title row (แท่งเขียว + ตัวหนังสือ) ===== */
.ags-stepTitleRow {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  margin: 14px 0 12px;
}
.ags-stepBar {
  width: 6px;
  height: 38px;
  border-radius: 6px;
  background: #2E7D32;
}
.ags-titleText {
  font-weight: 900;
  color: #111827;
  font-size: 18px;
  line-height: 1.25;
  display: flex;
  align-items: center;
  height: 38px; /* จัดให้ตรงกับแท่งเขียว */
}

/* spacer ระหว่าง step */
.ags-stepTitleRow--spacer {
  margin-top: 40px; /* เพิ่มระยะห่างหน่อยให้ดูไม่อึดอัด */
}

/* ===== Card (Common) ===== */
.ags-card {
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 10px;
  padding: 18px;
}

/* ===== Inputs ===== */
.ags-field label {
  display: block;
  font-size: 12px;
  font-weight: 900;
  color: #111827;
  margin-bottom: 6px;
}

.ags-field input,
.ags-field select {
  width: 100%;
  height: 34px;
  border-radius: 8px;
  border: 1px solid #D9DEE6;
  padding: 0 10px;
  outline: none;
  font-size: 12px;
  background: #fff;
  color: #111827;
  box-sizing: border-box;
}

.ags-field input::placeholder { color: #9CA3AF; }

.ags-field input:focus,
.ags-field select:focus {
  border-color: rgba(46, 125, 50, 0.55);
  box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.10);
}

.input-full {
    width: 100%;
}

/* =====================
   STEP 1 (คงเดิมตามที่คุณส่งมา)
   ===================== */

.asg-gridTop {
  display: grid;
  grid-template-columns: 2.2fr 1fr 1fr 1.6fr;
  gap: 14px;
  align-items: end;
}

.asg-midRow {
  margin-top: 14px;
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 18px;
  align-items: start;
}

.asg-subtitle {
  font-size: 12px;
  font-weight: 900;
  color: #111827;
  margin: 0 0 10px;
}

.asg-modeRow {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  width: 100%;
}

.asg-modeCard {
  width: 100%;
  min-width: 0;
  height: 62px;
  border-radius: 10px;
  border: 1px solid #E5E7EB;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-weight: 900;
  font-size: 12px;
  color: #111827;
  cursor: pointer;
  transition: .15s ease;
  box-sizing: border-box;
}

.asg-modeCard svg { opacity: .75; }

.asg-modeCard:hover {
  border-color: rgba(46, 125, 50, 0.30);
  box-shadow: 0 10px 24px rgba(17, 24, 39, 0.06);
}

.asg-modeCard.active {
  background: #2E7D32;
  color: #fff;
  border-color: rgba(46, 125, 50, 0.55);
  box-shadow: 0 14px 30px rgba(46, 125, 50, 0.18);
}
.asg-modeCard.active svg { color: #fff; opacity: 1; }

.asg-modeExtras {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  align-items: start;
  min-height: 70px;
}

.asg-modeExtras.is-hidden { visibility: hidden; pointer-events: none; }
.asg-teamSize.is-hidden, .asg-otherRange.is-hidden { visibility: hidden; pointer-events: none; }

.asg-under-col2, .asg-under-col3 { display: flex; justify-content: center; }

.asg-teamSize { display: flex; flex-direction: column; align-items: center; gap: 6px; }
.asg-teamSize label { font-size: 11px; font-weight: 900; color: #111827; }
.asg-teamSize select { height: 28px; width: 76px; border-radius: 10px; border: 1px solid #D9DEE6; padding: 0 10px; text-align: center; font-size: 12px; }

.asg-otherRange { display: flex; gap: 12px; justify-content: center; }
.asg-miniSelect { display: flex; flex-direction: column; align-items: center; gap: 6px; }
.asg-miniSelect label { font-size: 11px; font-weight: 900; color: #111827; }
.asg-miniSelect select { height: 28px; width: 76px; border-radius: 10px; border: 1px solid #D9DEE6; padding: 0 10px; text-align: center; font-size: 12px; }

.asg-rightBlock { display: flex; gap: 14px; justify-content: flex-end; padding-top: 20px; }
.asg-miniField { width: 140px; }
.asg-miniField label { display: block; font-size: 12px; font-weight: 900; color: #111827; margin-bottom: 6px; }
.asg-miniField input { width: 100%; height: 34px; border-radius: 8px; border: 1px solid #D9DEE6; padding: 0 10px; outline: none; font-size: 12px; }

/* =====================
   STEP 2 (MODIFIED for Image Match)
   ===================== */

.step2-container {
    margin-top: 10px;
    position: relative;
}

/* --- 1. Folder Tabs (แทนที่ Pill Tabs เดิม) --- */
.step2-tabs-wrapper {
    display: flex;
    gap: 4px;
    padding-left: 0px;
    margin-bottom: -1px; /* ดึงลงมาทับเส้นขอบ Card */
    z-index: 10;
    position: relative;
}

.step2-tab {
    padding: 8px 24px;
    background-color: #bce8cf; /* สีเทาอ่อน */
    border: 1px solid #E5E7EB;
    border-bottom: none;
    border-radius: 10px 10px 0 0; /* มนเฉพาะด้านบน */
    color: #6B7280;
    font-weight: 700; /* ใช้ font weight เดิมของคุณ */
    font-size: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: all 0.2s;
}

.step2-tab:hover {
    background-color: #E5E7EB;
}

.step2-tab.active {
    background-color: #2E7D32; /* สีเขียวตาม Theme */
    color: #fff;
    border-color: #2E7D32;
    padding-top: 14px; /* ยกสูงขึ้นนิดนึงตอน Active */
    margin-top: -4px;
}

/* --- 2. Step 2 Content Card --- */
.step2-card-content {
    background: #fff;
    border: 1px solid #E5E7EB;
    border-radius: 10px;
    border-top-left-radius: 0; /* มุมซ้ายบนตัดตรง รับกับ Tab */
    padding: 24px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    position: relative;
    z-index: 1;
}

/* Header inside Card */
.step2-header {
    margin-bottom: 24px;
    border-bottom: 1px solid #F3F4F6;
    padding-bottom: 16px;
}
.step2-header h3 {
    margin: 0 0 8px 0;
    font-size: 16px;
    font-weight: 900;
    color: #111827;
}
.step2-header p {
    margin: 0;
    font-size: 12px;
    color: #6B7280;
    font-weight: 500;
}

/* Layout Grids */
.ags-row-full { margin-bottom: 20px; }
.ags-row-4col {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 30px;
}

.step2-divider {
    height: 1px;
    background: #E5E7EB;
    margin: 24px 0;
}

.step2-sub-title {
    font-size: 14px;
    font-weight: 900;
    color: #111827;
    margin-bottom: 16px;
}

/* --- 3. Quarter Cards (Update ให้มีขอบเขียวและ Layout 2 บรรทัด) --- */
.step2-q-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.step2-q-card {
    border: 1px solid #4CAF50; /* ✅ ขอบสีเขียวตามรูปภาพ */
    border-radius: 10px;
    background: #fff;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.q-card-header {
    padding: 12px 16px 0;
    font-weight: 900;
    font-size: 13px;
    color: #111827;
}

.q-card-body {
    padding: 12px 16px 20px;
}

/* Layout ภายใน Quarter Card: แถวแรก 2 ช่อง, แถวสอง 1 ช่อง */
.q-card-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 12px;
}

/* Footer & Buttons */
.step2-footer {
    display: flex;
    justify-content: flex-end;
    margin-top: 30px;
    border-top: 1px solid #F3F4F6;
    padding-top: 20px;
}

.btn-save {
    height: 38px;
    padding: 0 20px;
    border-radius: 8px;
    border: none;
    background: #2E7D32;
    color: #fff;
    font-weight: 900;
    font-size: 13px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: background 0.2s;
}

.btn-save:hover {
    background: #1B5E20;
}

/* Dropdown Colors */
optgroup[label^="--- ปัจจัยลบ"] { color: #D32F2F; font-weight: 900; }
optgroup[label^="--- ปัจจัยบวก"] { color: #388E3C; font-weight: 900; }

/* =====================
   Responsive
   ===================== */
@media (max-width: 980px){
  .asg-gridTop{ grid-template-columns: 1fr; }
  .asg-midRow{ grid-template-columns: 1fr; }
  .asg-rightBlock{ justify-content:flex-start; padding-top: 0; }
  
  /* Step 2 Responsive */
  .ags-row-4col { grid-template-columns: 1fr 1fr; }
  .step2-q-grid { grid-template-columns: 1fr; }
}

@media (max-width: 600px) {
  .asg-modeRow { grid-template-columns: 1fr; }
  .asg-modeExtras { grid-template-columns: 1fr; gap: 20px; }
  .ags-row-4col { grid-template-columns: 1fr; }
  .q-card-row { grid-template-columns: 1fr; }
}
/* =====================
   STEP 3 STYLES
   ===================== */

/* Total Weight Bar */
.step3-total-bar {
  background: #F3F4F6;
  border-radius: 12px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  margin-bottom: 24px;
  border: 1px solid #E5E7EB;
  position: relative;
  overflow: hidden; /* เพื่อให้ bar-fill ไม่ล้น */
  color: #1B5E20;
}

.step3-total-bar.is-invalid {
  border-color: #EF4444; /* สีแดงถ้ายังไม่ครบ 100 */
  color: #B91C1C;
}

.bar-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: rgba(46, 125, 50, 0.1); /* สีเขียวจางๆ เป็นพื้นหลัง progress */
  z-index: 0;
  transition: width 0.3s ease;
}

.step3-total-bar.is-invalid .bar-fill {
  background: rgba(239, 68, 68, 0.1); /* สีแดงจางๆ */
}

.bar-label {
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 1;
}

.bar-text {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}
.bar-text strong { font-size: 13px; font-weight: 900; }
.bar-text span { font-size: 11px; opacity: 0.8; }

.bar-value {
  font-size: 18px;
  font-weight: 900;
  z-index: 1;
}

/* Grid for Scoring Cards */
.step3-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

@media (max-width: 800px) {
  .step3-grid { grid-template-columns: 1fr; }
}

/* Scoring Card */
.step3-card {
  border: 1px solid #4CAF50; /* ขอบเขียวตามภาพ */
  border-radius: 12px;
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 16px;
  background: #fff;
  transition: all 0.2s;
}

.step3-card:hover {
  box-shadow: 0 4px 12px rgba(46, 125, 50, 0.08);
}

.step3-card-icon {
  width: 42px;
  height: 42px;
  background: #1B5E20; /* พื้นหลังไอคอนเขียวเข้ม */
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  flex-shrink: 0;
}

.step3-card-content {
  flex: 1;
}

.card-title {
  font-weight: 900;
  font-size: 13px;
  color: #111827;
  margin-bottom: 4px;
}
.card-desc {
  font-size: 11px;
  color: #6B7280;
  line-height: 1.3;
}

.step3-card-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #F9FAFB;
  padding: 4px;
  border-radius: 8px;
  border: 1px solid #E5E7EB;
}

.btn-adj {
  width: 28px;
  height: 28px;
  border: none;
  background: #fff;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 900;
  color: #374151;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  display: grid;
  place-items: center;
}
.btn-adj:hover { background: #F3F4F6; }
.btn-adj:active { transform: translateY(1px); }

.score-val {
  width: 24px;
  text-align: center;
  font-weight: 900;
  font-size: 14px;
  color: #111827;
}
.unit {
  font-size: 12px;
  font-weight: 900;
  color: #9CA3AF;
  margin-right: 4px;
}

/* Final Button */
.step3-footer-centered {
  display: flex;
  justify-content: center;
  margin-top: 40px;
  margin-bottom: 40px;
}

.btn-create {
  background-color: #2E7D32;
  color: #fff;
  border: none;
  padding: 12px 40px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 900;
  cursor: pointer;
  display: flex;
  align-items: center;
  box-shadow: 0 4px 6px rgba(46, 125, 50, 0.2);
  transition: all 0.2s;
}

.btn-create:hover {
  background-color: #1B5E20;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(46, 125, 50, 0.25);
}
.btn-create:disabled {
  background-color: #9CA3AF;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* =====================
   STEP 4 STYLES
   ===================== */

/* Animation for revealing Step 4 */
.fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.step4-card {
  padding: 24px;
}

.step4-row {
  display: flex;
  align-items: flex-end; /* จัดให้ Input กับปุ่มอยู่แนวเดียวกันด้านล่าง */
  gap: 20px;
  flex-wrap: wrap;
}

.input-readonly {
  background-color: #F9FAFB !important;
  color: #6B7280 !important;
  border-color: #E5E7EB !important;
  cursor: default;
}

/* Code Group */
.step4-code-group {
  display: flex;
  gap: 10px;
}

.code-box {
  flex: 1;
  height: 40px;
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 4px 0 12px;
  font-family: monospace;
  font-size: 16px;
  font-weight: 900;
  color: #111827;
}

.btn-icon-copy {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  color: #6B7280;
  border-radius: 6px;
  display: grid;
  place-items: center;
}
.btn-icon-copy:hover {
  background: #E5E7EB;
  color: #111827;
}

.btn-share {
  height: 40px;
  padding: 0 16px;
  background: #2E7D32;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  transition: background 0.2s;
}
.btn-share:hover { background: #1B5E20; }

/* Actions (Right Side) */
.step4-actions {
  display: flex;
  gap: 10px;
  margin-left: auto; /* ดันไปขวาสุด */
}

.btn-gray {
  height: 40px;
  padding: 0 16px;
  background: #9CA3AF; /* สีเทาเข้ม */
  color: #fff;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
}
.btn-gray:hover { background: #6B7280; }

.btn-green-go {
  height: 40px;
  padding: 0 20px;
  background: #1B5E20; /* เขียวเข้ม */
  color: #fff;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
}
.btn-green-go:hover { background: #14532d; }

/* Disable Look for Main Button */
.btn-disabled-look {
  background-color: #9CA3AF !important;
  color: #fff !important;
  box-shadow: none !important;
  transform: none !important;
  cursor: default !important;
}

/* Responsive */
@media (max-width: 800px) {
  .step4-row {
    flex-direction: column;
    align-items: stretch;
  }
  .step4-actions {
    margin-left: 0;
    justify-content: flex-end;
    margin-top: 10px;
  }
}
/* =====================
   FOOTER STYLES
   ===================== */

.ags-footer {
  margin-top: 60px;      /* เว้นระยะห่างจากเนื้อหาด้านบน */
  padding-bottom: 40px;  /* เว้นระยะจากขอบจอด้านล่าง */
  text-align: center;
  color: #9CA3AF;        /* สีเทาจางๆ สบายตา */
}

.footer-line {
  width: 60px;
  height: 4px;
  background-color: #E5E7EB;
  border-radius: 2px;
  margin: 0 auto 16px;   /* จัดกึ่งกลาง */
}

.ags-footer p {
  margin: 4px 0;
  font-size: 13px;
  font-weight: 600;
}

.footer-sub {
  font-size: 11px !important;
  font-weight: 400 !important;
  opacity: 0.8;
}

/* =====================
   Edit Mode Button Style
   ===================== */

/* ปุ่มปกติ (บันทึก) */
.btn-save {
  transition: all 0.2s ease;
}

/* ปุ่มโหมดแก้ไข (หลังจากกดบันทึกแล้ว) */
.btn-save.btn-edit-mode {
  background-color: #FFFFFF;
  color: #2E7D32;
  border: 2px solid #2E7D32;
}

.btn-save.btn-edit-mode:hover {
  background-color: #F0FDF4; /* สีเขียวอ่อนๆ เวลา Hover */
}
/* ปุ่มแก้ไขใน Step 4 (สไตล์เดียวกับ Step 2 Edit Mode) */
.btn-edit-criteria {
  height: 40px;
  padding: 0 20px;
  background-color: #FFFFFF; /* พื้นขาว */
  color: #2E7D32;            /* ตัวหนังสือเขียว */
  border: 2px solid #2E7D32; /* ขอบเขียว */
  border-radius: 8px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  transition: all 0.2s ease;
  font-family: 'Prompt', sans-serif;
}

.btn-edit-criteria:hover {
  background-color: #F0FDF4; /* สีเขียวอ่อนๆ เวลา Hover */
  transform: translateY(-1px);
}